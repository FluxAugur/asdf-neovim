#!/usr/bin/env bash

auth=""
if [ -n "$GITHUB_API_TOKEN" ]; then
 auth="-H 'Authorization: token $GITHUB_API_TOKEN'"
fi

# Fetch all tag names, and get only second column. Then remove all unnecessary characters.
list_of_versions=$(
  curl -sL $auth https://api.github.com/repos/neovim/neovim/tags \
    | grep name \
    | sed -e 's/.* "v//;s/",//' \
    | head -n +12
)

echo $list_of_versions
